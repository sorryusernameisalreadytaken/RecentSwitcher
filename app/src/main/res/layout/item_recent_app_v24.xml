<?xml version="1.0" encoding="utf-8"?>
<!--
    Variant 24: Row and gear focusable, AFTER_DESCENDANTS.
    This layout is similar to variant 23 but uses afterDescendants focus
    ordering. Both the row and the gear can receive focus. DPAD‑RIGHT
    moves focus to the gear and DPAD‑DOWN returns to the next row’s
    app cell rather than the next gear.
-->
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/app_cell"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="horizontal"
    android:padding="8dp"
    android:focusable="true"
    android:focusableInTouchMode="true"
    android:descendantFocusability="afterDescendants"
    android:nextFocusRight="@id/settings_button"
    android:nextFocusDown="@id/app_text">

    <LinearLayout
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:orientation="horizontal"
        android:gravity="center_vertical">

        <ImageView
            android:id="@+id/app_icon"
            android:layout_width="40dp"
            android:layout_height="40dp"
            android:layout_gravity="center_vertical"
            android:contentDescription="@string/app_icon_desc" />

        <TextView
            android:id="@+id/app_text"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginStart="12dp"
            android:textAppearance="@style/TextAppearance.AppCompat.Body1" />

    </LinearLayout>

    <ImageButton
        android:id="@+id/settings_button"
        android:layout_width="48dp"
        android:layout_height="48dp"
        android:layout_gravity="center_vertical"
        android:background="?attr/selectableItemBackground"
        android:contentDescription="@string/open_settings_description"
        android:focusable="true"
        android:focusableInTouchMode="true"
        android:padding="8dp"
        android:src="@android:drawable/ic_menu_manage"
        android:nextFocusLeft="@id/app_text"
        android:nextFocusDown="@id/app_text"
        android:nextFocusUp="@id/app_text" />

</LinearLayout>
