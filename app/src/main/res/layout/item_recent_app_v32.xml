<?xml version="1.0" encoding="utf-8"?>
<!--
    Variant 32: Row and gear focusable using RelativeLayout, BEFORE_DESCENDANTS.
    This variant employs a RelativeLayout to separate the gear from the app
    details. Both the row (RelativeLayout itself) and the gear are
    focusable. The gear is anchored to the right side of the row. The
    focus order is beforeDescendants to prioritise the row. DPAD‑RIGHT
    moves focus to the gear; DPAD‑DOWN from the gear returns to the next
    app cell.
-->
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/app_cell"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:padding="8dp"
    android:focusable="true"
    android:focusableInTouchMode="true"
    android:descendantFocusability="beforeDescendants"
    android:nextFocusRight="@id/settings_button"
    android:nextFocusDown="@id/app_text">

    <!-- Container for app icon and text aligned to the start -->
    <LinearLayout
        android:id="@+id/app_info_container"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:gravity="center_vertical"
        android:layout_alignParentStart="true"
        android:layout_toStartOf="@+id/settings_button">

        <ImageView
            android:id="@+id/app_icon"
            android:layout_width="40dp"
            android:layout_height="40dp"
            android:layout_gravity="center_vertical"
            android:contentDescription="@string/app_icon_desc" />

        <TextView
            android:id="@+id/app_text"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginStart="12dp"
            android:textAppearance="@style/TextAppearance.AppCompat.Body1" />

    </LinearLayout>

    <!-- Gear button aligned to end -->
    <ImageButton
        android:id="@+id/settings_button"
        android:layout_width="48dp"
        android:layout_height="48dp"
        android:layout_alignParentEnd="true"
        android:layout_centerVertical="true"
        android:background="?attr/selectableItemBackground"
        android:contentDescription="@string/open_settings_description"
        android:focusable="true"
        android:focusableInTouchMode="true"
        android:padding="8dp"
        android:src="@android:drawable/ic_menu_manage"
        android:nextFocusLeft="@id/app_text"
        android:nextFocusDown="@id/app_text"
        android:nextFocusUp="@id/app_text" />

</RelativeLayout>
