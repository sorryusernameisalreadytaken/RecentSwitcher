<?xml version="1.0" encoding="utf-8"?>
<!--
    Variant 31: Row and gear focusable with weighted columns, BEFORE_DESCENDANTS.
    This variant assigns a larger weight to the app cell (weight 8) and a
    smaller weight to the gear column (weight 2). Both elements are
    focusable and the focus order is beforeDescendants. DPAD‑RIGHT moves
    to the gear and DPAD‑DOWN from the gear returns to the next app cell.
-->
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/app_cell"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="horizontal"
    android:padding="8dp"
    android:focusable="true"
    android:focusableInTouchMode="true"
    android:descendantFocusability="beforeDescendants"
    android:nextFocusRight="@id/settings_button"
    android:nextFocusDown="@id/app_text">

    <LinearLayout
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_weight="8"
        android:orientation="horizontal"
        android:gravity="center_vertical">

        <ImageView
            android:id="@+id/app_icon"
            android:layout_width="40dp"
            android:layout_height="40dp"
            android:layout_gravity="center_vertical"
            android:contentDescription="@string/app_icon_desc" />

        <TextView
            android:id="@+id/app_text"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginStart="12dp"
            android:textAppearance="@style/TextAppearance.AppCompat.Body1" />

    </LinearLayout>

    <ImageButton
        android:id="@+id/settings_button"
        android:layout_width="0dp"
        android:layout_height="48dp"
        android:layout_weight="2"
        android:layout_gravity="center_vertical"
        android:background="?attr/selectableItemBackground"
        android:contentDescription="@string/open_settings_description"
        android:focusable="true"
        android:focusableInTouchMode="true"
        android:padding="8dp"
        android:src="@android:drawable/ic_menu_manage"
        android:nextFocusLeft="@id/app_text"
        android:nextFocusDown="@id/app_text"
        android:nextFocusUp="@id/app_text" />

</LinearLayout>
